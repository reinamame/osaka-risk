<!doctype html>
<html lang="ja">
<meta charset="utf-8" />
<title>Login Demo</title>
<body>
  <h2>登録</h2>
  <input id="regEmail" placeholder="email">
  <input id="regPass" type="password" placeholder="password">
  <input id="regNickname" placeholder="nickname">
  <button id="btnRegister">登録</button>

  <h2>ログイン</h2>
  <input id="loginEmail" placeholder="email">
  <input id="loginPass" type="password" placeholder="password">
  <button id="btnLogin">ログイン</button>
  <button id="btnLogout">ログアウト</button>

  <h2>お気に入り</h2>
  <button id="btnAddFav">未ログインで1件保存（匿名）</button>
  <button id="btnClaim">ログイン後に引き取り</button>
  <pre id="out"></pre>

  <script>
    // 初回だけ deviceId を作って保存（お気に入りの引き取りに必要）
    if (!localStorage.getItem("deviceId")) {
      const id = (crypto.randomUUID ? crypto.randomUUID()
                : Date.now() + "-" + Math.random().toString(16).slice(2));
      localStorage.setItem("deviceId", id);
    }
  </script>
  <script type="module" src="../JS/12auth.js"></script>
  <script type="module" src="../JS/main3.js"></script>
</body>
</html>
